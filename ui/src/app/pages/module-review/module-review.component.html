<app-header></app-header>

<div class="module-review-container">
    <h2 class="text-xl font-bold mb-2">ðŸ“˜ Module: {{ moduleTitle }}</h2>
  
    <div *ngIf="module" class="mb-6">
      <h3 class="text-lg font-semibold">Module Topics</h3>
      <ul class="list-disc ml-5">
        <li *ngFor="let topic of module.topics">{{ topic.title }} - {{ topic.summary }}</li>
      </ul>
    </div>
  
    <h3 class="text-lg font-semibold mb-2">ðŸ”¤ Phrases Extracted</h3>
  
    <div *ngIf="loading" class="text-gray-500 italic">Loading phrases...</div>
  
    <div *ngIf="!loading && phrases.length === 0" class="text-gray-400">No phrases found.</div>
  
    <div *ngIf="!loading && phrases.length > 0" class="space-y-4">
        <div *ngFor="let phrase of phrases" class="phrase-card">
            <div class="phrase-label">
                <strong>FJ:</strong> {{ phrase.originalParagraph }}
            </div>
            
            <div style="margin-top: 0.75rem;">
                <strong>EN:</strong>
                <textarea [(ngModel)]="phrase.translatedParagraph" rows="2" class="translation-textarea"></textarea>
            </div>
            
            <button *ngIf="!isVerified(phrase.verified)"
                    (click)="markAsVerified(phrase)"
                    class="save-verify">
                âœ… Verify & Save
            </button>
            
            <span *ngIf="isVerified(phrase.verified)" class="text-green-600 font-semibold ml-4">Verified âœ”</span>
            </div>
          
    </div>
  </div>
  