version: 1
frontend:
  phases:
    preBuild:
      commands:
        - cd ui
        - npm ci
    build:
      commands:
        - echo "Current working directory:"
        - pwd
        - echo "Running build command:"
        - npm run build
        - echo "Build completed, listing directories:"
        - ls -la
        - echo "Contents of dist directory:"
        - ls -la dist || echo "dist directory not found"
        - echo "Contents of dist/fijian-ui directory:"
        - ls -la dist/fijian-ui || echo "dist/fijian-ui directory not found"
        - echo "Contents of dist/fijian-ui/browser directory:"
        - ls -la dist/fijian-ui/browser || echo "dist/fijian-ui/browser directory not found"
  artifacts:
    baseDirectory: dist/fijian-ui/browser
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
