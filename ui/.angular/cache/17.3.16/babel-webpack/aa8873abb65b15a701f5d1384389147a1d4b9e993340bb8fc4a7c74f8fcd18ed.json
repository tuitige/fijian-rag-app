{"ast":null,"code":"import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport var getPayloadHash = function (_a, hashConstructor) {\n  var headers = _a.headers,\n    body = _a.body;\n  return __awaiter(void 0, void 0, void 0, function () {\n    var _b, _c, headerName, hashCtor, _d;\n    var e_1, _e;\n    return __generator(this, function (_f) {\n      switch (_f.label) {\n        case 0:\n          try {\n            for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n              headerName = _c.value;\n              if (headerName.toLowerCase() === SHA256_HEADER) {\n                return [2, headers[headerName]];\n              }\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n          if (!(body == undefined)) return [3, 1];\n          return [2, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n        case 1:\n          if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3, 3];\n          hashCtor = new hashConstructor();\n          hashCtor.update(body);\n          _d = toHex;\n          return [4, hashCtor.digest()];\n        case 2:\n          return [2, _d.apply(void 0, [_f.sent()])];\n        case 3:\n          return [2, UNSIGNED_PAYLOAD];\n      }\n    });\n  });\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}