{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/translation.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ModuleListComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const src_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", src_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", src_r1, \" \");\n  }\n}\nfunction ModuleListComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 11)(1, \"td\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 12)(9, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ModuleListComponent_tr_21_Template_button_click_9_listener() {\n      const module_r3 = i0.ɵɵrestoreView(_r2).$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.goToReview(module_r3));\n    });\n    i0.ɵɵtext(10, \" Review \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const module_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(module_r3.learningModuleTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(module_r3.source);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 3, module_r3.createdAt, \"short\"));\n  }\n}\nexport let ModuleListComponent = /*#__PURE__*/(() => {\n  class ModuleListComponent {\n    service;\n    router;\n    modules = [];\n    loading = true;\n    selectedSource = 'All';\n    constructor(service, router) {\n      this.service = service;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.service.getAllModules().subscribe(data => {\n        this.modules = data.sort((a, b) => (b.createdAt || '').localeCompare(a.createdAt || ''));\n        this.loading = false;\n      });\n    }\n    get filteredModules() {\n      if (this.selectedSource === 'All') return this.modules;\n      return this.modules.filter(m => m.source === this.selectedSource);\n    }\n    goToReview(module) {\n      this.router.navigate(['/module-review'], {\n        queryParams: {\n          id: module.id,\n          title: module.learningModuleTitle\n        }\n      });\n    }\n    getUniqueSources() {\n      return [...new Set(this.modules.map(m => m.source))];\n    }\n    static ɵfac = function ModuleListComponent_Factory(t) {\n      return new (t || ModuleListComponent)(i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ModuleListComponent,\n      selectors: [[\"app-module-list\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 22,\n      vars: 3,\n      consts: [[1, \"p-4\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [1, \"block\", \"mb-2\", \"text-sm\", \"font-medium\"], [1, \"mb-4\", \"p-2\", \"border\", \"rounded\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"All\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"w-full\", \"table-auto\", \"border\", \"border-gray-300\"], [1, \"bg-gray-100\"], [1, \"px-3\", \"py-2\", \"text-left\"], [\"class\", \"border-t\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"border-t\"], [1, \"px-3\", \"py-2\"], [1, \"px-3\", \"py-2\", \"text-sm\", \"text-gray-500\"], [1, \"bg-blue-600\", \"hover:bg-blue-700\", \"text-white\", \"px-4\", \"py-1\", \"rounded\", 3, \"click\"]],\n      template: function ModuleListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"\\uD83D\\uDCDA Learning Modules\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"label\", 2);\n          i0.ɵɵtext(4, \"Filter by Source:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"select\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ModuleListComponent_Template_select_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedSource, $event) || (ctx.selectedSource = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(6, \"option\", 4);\n          i0.ɵɵtext(7, \"All\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, ModuleListComponent_option_8_Template, 2, 2, \"option\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"table\", 6)(10, \"thead\", 7)(11, \"tr\")(12, \"th\", 8);\n          i0.ɵɵtext(13, \"Title\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\", 8);\n          i0.ɵɵtext(15, \"Source\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\", 8);\n          i0.ɵɵtext(17, \"Created\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\", 8);\n          i0.ɵɵtext(19, \"Action\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"tbody\");\n          i0.ɵɵtemplate(21, ModuleListComponent_tr_21_Template, 11, 6, \"tr\", 9);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedSource);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.getUniqueSources());\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngForOf\", ctx.filteredModules);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.DatePipe, FormsModule, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, HttpClientModule]\n    });\n  }\n  return ModuleListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}