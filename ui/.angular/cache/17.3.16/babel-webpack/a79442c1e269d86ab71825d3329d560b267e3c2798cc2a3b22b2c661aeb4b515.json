{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/verification.service\";\nfunction VerificationReviewComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VerificationReviewComponent_table_9_ng_container_1_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(col_r1);\n  }\n}\nfunction VerificationReviewComponent_table_9_ng_container_1_td_2_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"span\")(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function VerificationReviewComponent_table_9_ng_container_1_td_2_span_2_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const item_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r3.verifyItem(item_r3));\n    });\n    i0.ɵɵtext(2, \"Verify\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction VerificationReviewComponent_table_9_ng_container_1_td_2_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = i0.ɵɵnextContext().$implicit;\n    const col_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r3[col_r1]);\n  }\n}\nfunction VerificationReviewComponent_table_9_ng_container_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵelementContainerStart(1, 14);\n    i0.ɵɵtemplate(2, VerificationReviewComponent_table_9_ng_container_1_td_2_span_2_Template, 3, 0, \"span\", 15)(3, VerificationReviewComponent_table_9_ng_container_1_td_2_span_3_Template, 2, 1, \"span\", 16);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const col_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngSwitch\", col_r1);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngSwitchCase\", \"actions\");\n  }\n}\nfunction VerificationReviewComponent_table_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 9);\n    i0.ɵɵtemplate(1, VerificationReviewComponent_table_9_ng_container_1_th_1_Template, 2, 1, \"th\", 10)(2, VerificationReviewComponent_table_9_ng_container_1_td_2_Template, 4, 2, \"td\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const col_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"matColumnDef\", col_r1);\n  }\n}\nfunction VerificationReviewComponent_table_9_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 18);\n  }\n}\nfunction VerificationReviewComponent_table_9_tr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\nfunction VerificationReviewComponent_table_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 5);\n    i0.ɵɵtemplate(1, VerificationReviewComponent_table_9_ng_container_1_Template, 3, 1, \"ng-container\", 6)(2, VerificationReviewComponent_table_9_tr_2_Template, 1, 0, \"tr\", 7)(3, VerificationReviewComponent_table_9_tr_3_Template, 1, 0, \"tr\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r3.items);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.getDisplayedColumns());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r3.getDisplayedColumns());\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r3.getDisplayedColumns());\n  }\n}\nfunction VerificationReviewComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No items to review.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let VerificationReviewComponent = /*#__PURE__*/(() => {\n  class VerificationReviewComponent {\n    verificationService;\n    dataType = 'phrase';\n    items = [];\n    loading = false;\n    constructor(verificationService) {\n      this.verificationService = verificationService;\n    }\n    ngOnInit() {\n      this.loadItems();\n    }\n    changeTab(type) {\n      this.dataType = type;\n      this.items = [];\n      this.loadItems();\n    }\n    loadItems() {\n      this.loading = true;\n      this.verificationService.getItemsToVerify(this.dataType).subscribe({\n        next: res => {\n          this.items = res.items || [];\n          this.loading = false;\n        },\n        error: err => {\n          console.error('Error loading items:', err);\n          this.loading = false;\n        }\n      });\n    }\n    verifyItem(item) {\n      this.verificationService.verifyItem(this.dataType, item).subscribe({\n        next: () => {\n          this.items = this.items.filter(i => i.dataKey !== item.dataKey);\n        },\n        error: err => console.error('Verify failed:', err)\n      });\n    }\n    getDisplayedColumns() {\n      if (this.dataType === 'phrase') return ['source', 'target', 'actions'];\n      if (this.dataType === 'vocab') return ['word', 'partOfSpeech', 'meaning', 'actions'];\n      return ['originalText', 'translatedText', 'actions']; // paragraph\n    }\n    static ɵfac = function VerificationReviewComponent_Factory(t) {\n      return new (t || VerificationReviewComponent)(i0.ɵɵdirectiveInject(i1.VerificationService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: VerificationReviewComponent,\n      selectors: [[\"app-verification-review\"]],\n      decls: 11,\n      vars: 6,\n      consts: [[1, \"p-4\"], [1, \"tabs\", \"mb-4\"], [3, \"click\", \"disabled\"], [4, \"ngIf\"], [\"mat-table\", \"\", 3, \"dataSource\", 4, \"ngIf\"], [\"mat-table\", \"\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [3, \"ngSwitch\"], [4, \"ngSwitchCase\"], [4, \"ngSwitchDefault\"], [\"mat-button\", \"\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n      template: function VerificationReviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function VerificationReviewComponent_Template_button_click_2_listener() {\n            return ctx.changeTab(\"phrase\");\n          });\n          i0.ɵɵtext(3, \"Phrases\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function VerificationReviewComponent_Template_button_click_4_listener() {\n            return ctx.changeTab(\"vocab\");\n          });\n          i0.ɵɵtext(5, \"Vocabulary\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function VerificationReviewComponent_Template_button_click_6_listener() {\n            return ctx.changeTab(\"paragraph\");\n          });\n          i0.ɵɵtext(7, \"Paragraphs\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, VerificationReviewComponent_div_8_Template, 2, 0, \"div\", 3)(9, VerificationReviewComponent_table_9_Template, 4, 4, \"table\", 4)(10, VerificationReviewComponent_p_10_Template, 2, 0, \"p\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.dataType === \"phrase\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.dataType === \"vocab\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.dataType === \"paragraph\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.items.length > 0);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && ctx.items.length === 0);\n        }\n      },\n      styles: [\".verification-container[_ngcontent-%COMP%]{padding:16px}table[_ngcontent-%COMP%]{width:100%;margin-top:16px}table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%}.loading[_ngcontent-%COMP%]{margin-top:20px;font-weight:700}\"]\n    });\n  }\n  return VerificationReviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}