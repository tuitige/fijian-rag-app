{"ast":null,"code":"import { __awaiter, __generator, __read } from \"tslib\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar InMemoryStore = /** @class */function () {\n  function InMemoryStore() {\n    var _this = this;\n    this.db = new Map();\n    this.getAllKeys = function () {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, Array.from(this.db.keys())];\n        });\n      });\n    };\n    this.multiGet = function (keys) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n          return [2 /*return*/, keys.reduce(function (res, k) {\n            return res.push([k, _this.db.get(k)]), res;\n          }, [])];\n        });\n      });\n    };\n    this.multiRemove = function (keys, callback) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n          keys.forEach(function (k) {\n            return _this.db.delete(k);\n          });\n          typeof callback === 'function' && callback();\n          return [2 /*return*/];\n        });\n      });\n    };\n    this.multiSet = function (entries, callback) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _this = this;\n        return __generator(this, function (_a) {\n          entries.forEach(function (_a) {\n            var _b = __read(_a, 2),\n              key = _b[0],\n              value = _b[1];\n            _this.setItem(key, value);\n          });\n          typeof callback === 'function' && callback();\n          return [2 /*return*/];\n        });\n      });\n    };\n    this.setItem = function (key, value) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, this.db.set(key, value)];\n        });\n      });\n    };\n    this.removeItem = function (key) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, this.db.delete(key)];\n        });\n      });\n    };\n    this.getItem = function (key) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          return [2 /*return*/, this.db.get(key)];\n        });\n      });\n    };\n  }\n  return InMemoryStore;\n}();\nexport { InMemoryStore };\nexport function createInMemoryStore() {\n  return new InMemoryStore();\n}\n//# sourceMappingURL=InMemoryStore.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}