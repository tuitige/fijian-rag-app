{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/translation.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ModuleReviewComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 9)(1, \"h3\", 10);\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate(ctx_r0.moduleTitle);\n  }\n}\nfunction ModuleReviewComponent_div_4_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"li\")(1, \"strong\", 15);\n    i0.ÉµÉµtext(2);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(3);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const topic_r2 = ctx.$implicit;\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµtextInterpolate1(\"\", topic_r2.title, \":\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµtextInterpolate1(\" \", topic_r2.summary, \" \");\n  }\n}\nfunction ModuleReviewComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 11)(1, \"h4\", 12);\n    i0.ÉµÉµtext(2, \"Module Topics\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"ul\", 13);\n    i0.ÉµÉµtemplate(4, ModuleReviewComponent_div_4_li_4_Template, 4, 2, \"li\", 14);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.topics);\n  }\n}\nfunction ModuleReviewComponent_div_11_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"button\", 26);\n    i0.ÉµÉµlistener(\"click\", function ModuleReviewComponent_div_11_button_11_Template_button_click_0_listener() {\n      i0.ÉµÉµrestoreView(_r5);\n      const phrase_r4 = i0.ÉµÉµnextContext().$implicit;\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.markAsVerified(phrase_r4));\n    });\n    i0.ÉµÉµtext(1, \" \\u2705 Verify & Save \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ModuleReviewComponent_div_11_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"span\", 27);\n    i0.ÉµÉµtext(1, \" \\u2714 Verified \");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ModuleReviewComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 16)(1, \"div\", 17)(2, \"strong\", 18);\n    i0.ÉµÉµtext(3, \"FJ:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(4, \"span\");\n    i0.ÉµÉµtext(5);\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(6, \"div\", 19)(7, \"strong\", 20);\n    i0.ÉµÉµtext(8, \"EN:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(9, \"textarea\", 21);\n    i0.ÉµÉµtwoWayListener(\"ngModelChange\", function ModuleReviewComponent_div_11_Template_textarea_ngModelChange_9_listener($event) {\n      const phrase_r4 = i0.ÉµÉµrestoreView(_r3).$implicit;\n      i0.ÉµÉµtwoWayBindingSet(phrase_r4.translatedText, $event) || (phrase_r4.translatedText = $event);\n      return i0.ÉµÉµresetView($event);\n    });\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(10, \"div\", 22);\n    i0.ÉµÉµtemplate(11, ModuleReviewComponent_div_11_button_11_Template, 2, 0, \"button\", 23)(12, ModuleReviewComponent_div_11_span_12_Template, 2, 0, \"span\", 24);\n    i0.ÉµÉµelementStart(13, \"button\", 25);\n    i0.ÉµÉµlistener(\"click\", function ModuleReviewComponent_div_11_Template_button_click_13_listener() {\n      const phrase_r4 = i0.ÉµÉµrestoreView(_r3).$implicit;\n      const ctx_r0 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r0.recordFijianSpeakerAudio(phrase_r4));\n    });\n    i0.ÉµÉµtext(14, \" \\uD83C\\uDF99\\uFE0F Record Audio \");\n    i0.ÉµÉµelementEnd()()();\n  }\n  if (rf & 2) {\n    const phrase_r4 = ctx.$implicit;\n    i0.ÉµÉµadvance(5);\n    i0.ÉµÉµtextInterpolate(phrase_r4.originalText);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtwoWayProperty(\"ngModel\", phrase_r4.translatedText);\n    i0.ÉµÉµadvance(2);\n    i0.ÉµÉµproperty(\"ngIf\", !phrase_r4.verified || phrase_r4.verified === \"false\");\n    i0.ÉµÉµadvance();\n    i0.ÉµÉµproperty(\"ngIf\", phrase_r4.verified === true || phrase_r4.verified === \"true\");\n  }\n}\nexport let ModuleReviewComponent = /*#__PURE__*/(() => {\n  class ModuleReviewComponent {\n    route;\n    service;\n    moduleId = '';\n    moduleTitle = '';\n    module;\n    topics = [];\n    phrases = [];\n    showOnlyUnverified = false;\n    loading = true;\n    constructor(route, service) {\n      this.route = route;\n      this.service = service;\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        this.moduleId = params['id'];\n        this.moduleTitle = params['title'];\n        this.loadData();\n      });\n    }\n    loadData() {\n      this.service.getModuleById(this.moduleId).subscribe(module => {\n        this.module = module;\n      });\n      this.service.getPhrasesByModuleId(this.moduleId).subscribe(phrases => {\n        this.phrases = phrases;\n        this.loading = false;\n      });\n    }\n    toggleUnverifiedFilter() {\n      this.showOnlyUnverified = !this.showOnlyUnverified;\n    }\n    get filteredPhrases() {\n      return this.showOnlyUnverified ? this.phrases.filter(p => p.verified !== true) : this.phrases;\n    }\n    markAsVerified(phrase) {\n      this.service.verifyPhraseFromModule(this.moduleId, phrase).subscribe(() => {\n        phrase.verified = true;\n      });\n    }\n    isVerified(value) {\n      return value === true || value === 'true';\n    }\n    recordFijianSpeakerAudio(phrase) {\n      alert(`ðŸŽ™ï¸ [Placeholder] Recording audio for: ${phrase.originalParagraph.slice(0, 50)}...`);\n    }\n    static Éµfac = function ModuleReviewComponent_Factory(t) {\n      return new (t || ModuleReviewComponent)(i0.ÉµÉµdirectiveInject(i1.ActivatedRoute), i0.ÉµÉµdirectiveInject(i2.TranslationService));\n    };\n    static Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: ModuleReviewComponent,\n      selectors: [[\"app-module-review\"]],\n      standalone: true,\n      features: [i0.ÉµÉµStandaloneFeature],\n      decls: 12,\n      vars: 4,\n      consts: [[1, \"p-6\"], [1, \"text-2xl\", \"font-bold\", \"mb-6\", \"text-gray-800\"], [\"class\", \"mb-6\", 4, \"ngIf\"], [\"class\", \"mb-10\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"justify-between\", \"mb-4\"], [1, \"text-lg\", \"font-semibold\", \"text-gray-700\"], [1, \"bg-yellow-400\", \"hover:bg-yellow-500\", \"text-gray-800\", \"font-semibold\", \"px-3\", \"py-1\", \"rounded\", 3, \"click\"], [1, \"space-y-6\"], [\"class\", \"bg-white p-5 rounded-lg shadow border border-gray-200\", 4, \"ngFor\", \"ngForOf\"], [1, \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"text-blue-700\"], [1, \"mb-10\"], [1, \"text-lg\", \"font-bold\", \"mb-2\", \"text-gray-700\"], [1, \"list-disc\", \"pl-6\", \"space-y-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-gray-800\"], [1, \"bg-white\", \"p-5\", \"rounded-lg\", \"shadow\", \"border\", \"border-gray-200\"], [1, \"flex\", \"items-center\", \"mb-2\"], [1, \"mr-2\"], [1, \"flex\", \"items-start\", \"mt-2\"], [1, \"mr-2\", \"mt-1\"], [\"rows\", \"2\", 1, \"w-full\", \"border\", \"p-2\", \"rounded\", 3, \"ngModelChange\", \"ngModel\"], [1, \"flex\", \"flex-wrap\", \"items-center\", \"gap-4\", \"mt-4\"], [\"class\", \"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded text-sm shadow\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"text-green-600 font-semibold text-sm\", 4, \"ngIf\"], [1, \"bg-blue-500\", \"hover:bg-blue-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded\", \"text-sm\", \"shadow\", 3, \"click\"], [1, \"bg-green-600\", \"hover:bg-green-700\", \"text-white\", \"px-4\", \"py-2\", \"rounded\", \"text-sm\", \"shadow\", 3, \"click\"], [1, \"text-green-600\", \"font-semibold\", \"text-sm\"]],\n      template: function ModuleReviewComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ÉµÉµtext(2, \"\\uD83D\\uDCD6 Review Learning Module\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(3, ModuleReviewComponent_div_3_Template, 3, 1, \"div\", 2)(4, ModuleReviewComponent_div_4_Template, 5, 1, \"div\", 3);\n          i0.ÉµÉµelementStart(5, \"div\", 4)(6, \"h4\", 5);\n          i0.ÉµÉµtext(7, \"Translation Phrases\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(8, \"button\", 6);\n          i0.ÉµÉµlistener(\"click\", function ModuleReviewComponent_Template_button_click_8_listener() {\n            return ctx.toggleUnverifiedFilter();\n          });\n          i0.ÉµÉµtext(9);\n          i0.ÉµÉµelementEnd()();\n          i0.ÉµÉµelementStart(10, \"div\", 7);\n          i0.ÉµÉµtemplate(11, ModuleReviewComponent_div_11_Template, 15, 4, \"div\", 8);\n          i0.ÉµÉµelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.moduleTitle);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", ctx.topics.length > 0);\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµtextInterpolate1(\" \", ctx.showOnlyUnverified ? \"Show All\" : \"Show Only Unverified\", \" \");\n          i0.ÉµÉµadvance(2);\n          i0.ÉµÉµproperty(\"ngForOf\", ctx.filteredPhrases);\n        }\n      },\n      dependencies: [CommonModule, i3.NgForOf, i3.NgIf, FormsModule, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, HttpClientModule]\n    });\n  }\n  return ModuleReviewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}