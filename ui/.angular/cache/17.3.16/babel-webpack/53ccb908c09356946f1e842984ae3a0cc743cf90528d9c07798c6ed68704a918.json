{"ast":null,"code":"import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getRealRegion } from \"./getRealRegion\";\nimport { isFipsRegion } from \"./isFipsRegion\";\nexport var resolveRegionConfig = function (input) {\n  var region = input.region,\n    useFipsEndpoint = input.useFipsEndpoint;\n  if (!region) {\n    throw new Error(\"Region is missing\");\n  }\n  return __assign(__assign({}, input), {\n    region: function () {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var providedRegion;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (typeof region === \"string\") {\n                return [2, getRealRegion(region)];\n              }\n              return [4, region()];\n            case 1:\n              providedRegion = _a.sent();\n              return [2, getRealRegion(providedRegion)];\n          }\n        });\n      });\n    },\n    useFipsEndpoint: function () {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var providedRegion, _a;\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              if (!(typeof region === \"string\")) return [3, 1];\n              _a = region;\n              return [3, 3];\n            case 1:\n              return [4, region()];\n            case 2:\n              _a = _b.sent();\n              _b.label = 3;\n            case 3:\n              providedRegion = _a;\n              if (isFipsRegion(providedRegion)) {\n                return [2, true];\n              }\n              return [2, typeof useFipsEndpoint === \"boolean\" ? Promise.resolve(useFipsEndpoint) : useFipsEndpoint()];\n          }\n        });\n      });\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}